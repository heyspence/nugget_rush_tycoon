!function(){"use strict";var t,e,s,i,n,a;t=class{constructor(t,e,s){this.ctx=t,this.pos=[e[0]+20,e[1]-30],this.size=[140,15],this.loadTime=1e4,this.currentWidth=0,this.startTime=null,this.clickableObject=s,this.complete=!1,this.drawLoadBackground(),this.animate()}animate=()=>{if(!this.complete){if(this.currentWidth>=this.size[0])return this.ctx.clearRect(...this.pos,...this.size),this.drawLoadBackground(),this.clickableObject.addToTotal(1),void(this.complete=!0);this.currentWidth+=.5,this.update(),requestAnimationFrame(this.animate)}};update(t){this.ctx.fillStyle="red",this.ctx.fillRect(...this.pos,this.currentWidth,this.size[1])}isComplete(){return this.currentWidth>=this.size[0]}reset(){this.currentWidth=0,this.startTime=0}drawLoadBackground(){this.ctx.fillStyle="black",this.ctx.fillRect(...this.pos,...this.size)}},e=class{constructor(t,e,s){this.ctx=t,this.img=e.img,this.size=e.size,this.pos=e.pos,this.headerContent=s,this.loadTime=e.loadTime,this.scale=e.scale?e.scale:[1,1],this.drawImg(),this.drawLoadingBar()}drawImg(){const t=new Image;t.onload=()=>{this.ctx.save(),this.ctx.scale(...this.scale),this.ctx.drawImage(t,...this.pos,...this.size),this.ctx.restore()},t.src=this.img}drawLoadingBar(){}clickHandler(e){const s=[this.pos[0],this.pos[0]+this.size[0]],i=e.canvasX>=s[0]&&e.canvasX<=s[1],n=[this.pos[1],this.pos[1]+this.size[1]],a=e.canvasY>=n[0]&&e.canvasY<=n[1];i&&a&&new t(this.ctx,this.pos,this)}addToTotal(t){this.headerContent.cashOnHand=this.headerContent.cashOnHand+t,this.headerContent.renderTotal()}},s=class{constructor(t){this.ctx=t,this.addBackgroundImg(this.ctx)}addBackgroundImg(t){const e=document.querySelector("#main-background-img");t.drawImage(e,-750,-400)}},i=class{constructor(){this.renderLogo(),this.renderTotal(),this.renderMenu(),"NaN"===localStorage.getItem("cashOnHand")&&localStorage.setItem("cashOnHand",0)}get cashOnHand(){let t=localStorage.getItem("cashOnHand");return t?parseInt(t):0}set cashOnHand(t){localStorage.setItem("cashOnHand",t.toString())}renderLogo(){const t=document.querySelector("#main-title-container"),e=document.createElement("img");e.setAttribute("src","./assets/output-onlinepngtools (2).png"),t.appendChild(e)}renderTotal(){document.querySelector("#main-total").innerHTML=`<h2>Total: $${this.cashOnHand}</h2>`}renderMenu(){document.querySelector("#main-menu").innerHTML="<h2>Menu</h2>"}subtractFromTotal(t){this.cashOnHand>=t?(this.cashOnHand-=t,this.renderTotal()):console.log("insufficientfunds")}resetTotal(){this.cashOnHand=0,this.renderTotal()}},n=JSON.parse('{"I":[{"name":"Pistol","price":"10","imgSrc":"assets/pistol.png"},{"name":"Medicine","price":"20","imgSrc":"assets/Texture/money-bag.png"},{"name":"Horse","price":"30","imgSrc":"assets/pony.png"},{"name":"Fire","price":"50","imgSrc":"assets/Texture/fire.png"},{"name":"Bucket","price":"60","imgSrc":"assets/Texture/bucket.png"},{"name":"Experienced Hired Hand","price":"70","imgSrc":"assets/output-onlinepngtools (3).png"},{"name":"Auto Plant","price":"100","imgSrc":"assets/Texture/wheel.png"},{"name":"Pumpkin","price":"1000","imgSrc":"assets/Texture/pumpkin.png"},{"name":"Gold Chest","price":"200000","imgSrc":"assets/Texture/gold-chest.png"}]}'),a=class{constructor(t){this.shop=document.querySelector("#main-shop"),this.headerContent=t,this.renderTitle(),this.renderShopItems(),this.renderStats()}renderTitle(){let t=document.createElement("h2");t.setAttribute("id","shop-title"),t.innerText="Shop",this.shop.appendChild(t)}renderShopItems(){n.I.forEach((t=>{let e=document.createElement("div");e.setAttribute("class","shop-item"),e.setAttribute("name",t.name);let s=document.createElement("p");s.innerText=`$${t.price}`;let i=new Image(50,50);i.src=`${t.imgSrc}`,e.appendChild(i),e.appendChild(s),this.shop.appendChild(e),e.addEventListener("click",(()=>{this.headerContent.subtractFromTotal(`${t.price}`)}))}))}renderStats(){let t=document.createElement("div");t.setAttribute("id","main-stats"),this.shop.appendChild(t)}},window.addEventListener("load",(()=>{console.log("content has been loaded");const t=document.getElementById("canvas"),n=t.getContext("2d"),r=(new s(n),new i),c=(new a(r),new e(n,{pos:[180,180],size:[150,200],img:"assets/main-transparent.png"},r));t.addEventListener("click",(e=>{const s=t.getBoundingClientRect(),i=e.clientX-s.left,n=e.clientY-s.top;e.canvasX=i,e.canvasY=n,c.clickHandler(e)}))}))}();
//# sourceMappingURL=main.js.map